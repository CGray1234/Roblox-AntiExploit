local ReplicatedStorage = game:GetService("ReplicatedStorage")

local manualBan = {}

local DataStoreService = game:GetService("DataStoreService")
local clientBanDataStore = DataStoreService:GetDataStore("clientBanDataStore")

ReplicatedStorage.ClientBanEvent.Ban.OnServerEvent:Connect(function(Player)
	local success,errormessage = pcall(function()
		clientBanDataStore:SetAsync(Player.UserId,true)
		print("Ban data successfully saved! Data: "..Player.UserId)
	end)
end)

game:GetService("Players").PlayerAdded:Connect(function(player)
	local plrUserID = player.UserId
	if manualBan[plrUserID] == true then
		player:Kick("Ban message here")
	end
	
	local banned
	
	local success,errormessage = pcall(function()
		banned = clientBanDataStore:GetAsync(plrUserID)
	end)
	
	if banned == true then
		player:Kick("Ban message here")
	end
end)